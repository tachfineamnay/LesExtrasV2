@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   LES EXTRAS - Design System 2026
   Premium B2B Aesthetic
   ======================================== */

@layer base {
  * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-canvas text-slate-800;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  }

  .glass {
    @apply bg-white/80 backdrop-blur-xl;
  }

  /* Gradient Text */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-coral-500 to-coral-600;
  }

  /* Label Style */
  .label-sm {
    @apply text-[11px] font-semibold tracking-[0.15em] uppercase text-slate-400;
  }

  /* Hide Scrollbar */
  .scrollbar-none {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-none::-webkit-scrollbar {
    display: none;
  }

  /* Modal Animation */
  .animate-modal-in {
    animation: modalIn 0.25s cubic-bezier(0.16, 1, 0.3, 1);
  }

  @keyframes modalIn {
    from {
      opacity: 0;
      transform: scale(0.96);
    }

    to {
      opacity: 1;
      transform: scale(1);
    }
  }
}

/* ========================================
   Components - Design System
   ======================================== */

@layer components {
  /* Premium Input Fields */
  .input-premium {
    @apply w-full px-4 py-3 rounded-xl border border-slate-200 
           bg-white text-slate-900 placeholder:text-slate-400
           focus:ring-2 focus:ring-coral-200 focus:border-coral-400
           transition-all duration-200 outline-none;
  }

  /* Card Surface */
  .card-surface {
    @apply bg-white rounded-2xl shadow-soft 
           hover:shadow-soft-lg transition-shadow duration-300;
  }

  /* Primary Button - Coral (for Detail Pages) */
  .btn-primary {
    @apply inline-flex items-center justify-center gap-2 
           px-4 py-2.5 rounded-xl bg-coral-500 text-white 
           font-semibold text-sm
           hover:bg-coral-600 active:scale-[0.98]
           transition-all duration-200;
  }

  /* Secondary Button - Outline (for Feed) */
  .btn-secondary {
    @apply inline-flex items-center justify-center gap-2 
           px-4 py-2.5 rounded-xl border border-slate-200 
           text-slate-700 font-medium text-sm
           hover:bg-slate-50 hover:border-slate-300 
           active:scale-[0.98] transition-all duration-200;
  }

  /* Social Action Button */
  .btn-social {
    @apply inline-flex items-center justify-center 
           w-9 h-9 rounded-full border border-slate-200 
           text-slate-500 hover:text-coral-500 hover:border-coral-200
           hover:bg-coral-50 active:scale-95 transition-all duration-200;
  }

  /* Pattern Hero for cards without images */
  .pattern-hero {
    @apply relative h-36 overflow-hidden rounded-t-2xl;
    background: linear-gradient(135deg, 
      #FFF1F1 0%,   /* coral-50 */
      #F8FAFC 50%,  /* slate-50 */
      #FFE4E4 100%  /* coral-100 */
    );
  }

  .pattern-hero::before {
    content: '';
    @apply absolute inset-0 opacity-30;
    background-image: radial-gradient(circle at 2px 2px, #FEC8C8 1px, transparent 1px);
    background-size: 24px 24px;
  }

  /* Need Card Pattern (Blue-themed for establishments) */
  .pattern-hero-need {
    @apply relative h-36 overflow-hidden rounded-t-2xl;
    background: linear-gradient(135deg, 
      #EFF6FF 0%,   /* blue-50 */
      #F8FAFC 50%,  /* slate-50 */
      #DBEAFE 100%  /* blue-100 */
    );
  }

  .pattern-hero-need::before {
    content: '';
    @apply absolute inset-0 opacity-20;
    background-image: 
      linear-gradient(30deg, transparent 49.5%, #93C5FD 49.5%, #93C5FD 50.5%, transparent 50.5%),
      linear-gradient(-30deg, transparent 49.5%, #93C5FD 49.5%, #93C5FD 50.5%, transparent 50.5%);
    background-size: 20px 35px;
  }
}

/* ========================================
   Scrollbar - Minimal
   ======================================== */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-slate-200 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-slate-300;
}

/* ========================================
   Form Elements - Custom
   ======================================== */
input[type="date"]::-webkit-calendar-picker-indicator {
  @apply opacity-50 cursor-pointer;
}

input[type="date"]::-webkit-calendar-picker-indicator:hover {
  @apply opacity-100;
}

/* Number input spin buttons hidden */
input[type="number"] {
  -moz-appearance: textfield;
  appearance: textfield;
}

/* ========================================
   Mobile Responsiveness - iPhone Optimized
   ======================================== */

/* Safe Area for iPhone notch and home indicator */
.pb-safe {
  padding-bottom: env(safe-area-inset-bottom, 0);
}

.pt-safe {
  padding-top: env(safe-area-inset-top, 0);
}

/* Touch targets - minimum 44px for accessibility */
@media (max-width: 768px) {

  button,
  a,
  [role="button"] {
    min-height: 44px;
  }

  /* Larger tap targets for cards on mobile */
  .touch-card {
    @apply active:scale-[0.98] transition-transform;
  }

  /* Prevent text selection on interactive elements */
  .touch-none {
    -webkit-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
  }
}

/* Bottom navigation safe spacing */
.has-bottom-nav {
  padding-bottom: calc(4rem + env(safe-area-inset-bottom, 0));
}

/* Mobile-first masonry grid fix */
@media (max-width: 768px) {
  .columns-1 {
    columns: 1 !important;
  }

  /* Full width cards on mobile */
  .break-inside-avoid {
    break-inside: avoid;
    margin-bottom: 1rem;
  }
}

/* Floating SOS button on mobile */
.sos-float {
  position: fixed;
  bottom: calc(5rem + env(safe-area-inset-bottom, 0));
  right: 1rem;
  z-index: 40;
}

/* Hide on desktop, show on mobile */
.mobile-only {
  display: none;
}

@media (max-width: 1023px) {
  .mobile-only {
    display: block;
  }
}

/* Hide on mobile, show on desktop */
.desktop-only {
  display: block;
}

@media (max-width: 1023px) {
  .desktop-only {
    display: none;
  }
}

/* Smooth iOS scroll */
.smooth-scroll {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* Prevent pull-to-refresh on iOS */
.no-overscroll {
  overscroll-behavior: none;
}

/* iOS input zoom prevention */
@media screen and (max-width: 768px) {

  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input[type="number"],
  input[type="date"],
  select,
  textarea {
    font-size: 16px !important;
  }
}
